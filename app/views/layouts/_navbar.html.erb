<nav class="sidenav">

  <div class="sidenav-inner">
    <button class="closebtn" onclick="closeNav()">&times;</button>
    <div class="sidenav-brand playwrite-au-sa">
      <%= link_to 'Gallery', root_path, class:"sidenav-brand-text nav-link" %>
    </div>
    <% if current_user %>
      <div class="sidenav-user-info">
        <%= link_to edit_user_registration_path, class: "nav-link"  do%>
          <%= image_tag current_user.avatar.url, class: "avatar rounded-circle mb-3" %>
          <p class="mb-3"><%= current_user.username %></p>
        <% end%>
      </div>
      <ul class="navbar-nav">
        <li class="nav-item"><%= link_to t(".all_categories"), categories_path, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to t(".edit_account"), edit_user_registration_path, class: "nav-link" %></li>
        <li class="nav-item">
          <%= button_to t(".sign_out"), destroy_user_session_path, method: :delete, class: "nav-link" %>
        </li>
      </ul>
    <% else %>
      <ul class="navbar-nav">
        <li class="nav-item"><%= link_to t(".sign_up"), new_user_registration_path, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to t(".sign_in"), new_user_session_path, class: "nav-link" %></li>
      </ul>
    <% end %>
    <% if current_page?(root_path) %>
      <ul class="btn-toggle-nav list-unstyled fw-normal mt-4">
        <li><strong><%= t(".top_categories") %></strong></li>
        <% @top_categories.each do |category| %>
          <li>
            <%= link_to category.title, category_path(category), class: "nav-link" %>
          </li>
        <% end %>
      </ul>
    <% end %>
  </div>
</nav>

<button class="openbtn btn" onclick="openNav()">&#9776;</button>

<script>
  function openNav() {
    document.querySelector(".sidenav").style.width = "250px";
  }

  function closeNav() {
    document.querySelector(".sidenav").style.width = "0";
  }
</script>